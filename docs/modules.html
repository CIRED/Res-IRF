

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Module &mdash; Res-IRF 0.0 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Modification from Res-IRF 3.0" href="changelog.html" />
    <link rel="prev" title="Policies assessment" href="policies_assessment.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> Res-IRF
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="README.html">Res-IRF</a></li>
<li class="toctree-l1"><a class="reference internal" href="LICENSE.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="input_2012.html">Input Res-IRF version 3.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="technical_documentation.html">Technical documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="simulation_2012.html">Simulation and sensitivity analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="policies_parameters.html">Setting up public policies</a></li>
<li class="toctree-l1"><a class="reference internal" href="policies_assessment.html">Policies assessment</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Modification from Res-IRF 3.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="help_installation.html">Installation help</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="future_development.html">Future developments</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Res-IRF</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Module</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/modules.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="module-buildings">
<span id="module"></span><h1>Module</h1>
<dl class="py class">
<dt class="sig sig-object py" id="buildings.HousingStock">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">buildings.</span></span><span class="sig-name descname"><span class="pre">HousingStock</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stock</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attributes_values</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2018</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attributes2area</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attributes2horizon</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attributes2discount</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attributes2income</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attributes2consumption</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">price_behavior</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'myopic'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwh_cumac_transition</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Multi-attributes, dynamic housing stock.</p>
<p>HousingStock contains multiple agents. An agent is defined as the combination of a building, an owner and a tenant.
Specific agent behavior are declared as method.</p>
<dl class="py method">
<dt class="sig sig-object py" id="buildings.HousingStock.add_flow">
<span class="sig-name descname"><span class="pre">add_flow</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">flow</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Add flow to stock attribute object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>flow</strong> (<em>pd.Series</em>) – Attributes indexed flow to be added to stock.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="buildings.HousingStock.add_tenant_income">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">add_tenant_income</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">building_stock</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tenant_income</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Add Income class level to stock using information of tenant income.</p>
<p>Homeowners and social-housing tenant and owner income class are the same.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>building_stock</strong> (<em>pd.Series</em>) – </p></li>
<li><p><strong>tenant_income</strong> (<em>pd.Series</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pd.Series</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="buildings.HousingStock.calibration_market_share">
<span class="sig-name descname"><span class="pre">calibration_market_share</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">energy_prices</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">market_share_ini</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cost_invest</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">consumption</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'conventional'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subsidies</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">option</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Calculate intangible costs by calibrating market_share.</p>
<p>Solving the equations system:
Intangible costs are calibrated so that the life-cycle cost model, fed with the investment costs, matches the
observed market shares in the initial year. However, infinite sets of intangible costs can be found to reproduce
the relative market shares. In other words the equation system is under-determined and must be solved with an
additional condition. Accordingly, intangible costs are calibrated by incorporating one equation controlling for
λ, the ratio of average intangible costs over average life cycle costs. Parameter λ is set as the minimum value
for which the system can be solved from 0.15 to 0.6 (exogenous limits). The equation system is independent per
agent and should solve for a given lambda per agent. Another constraint imposes that the agents sharing the same
initial performance state find the same lambda.</p>
<p>From aggregated observed market share to agent-based:
Intangible costs could be calculated for every agent as LCC depends on every attributes. However, the
observed market share represents the average values over Energy performance initial and final dimensions.
Function defined various way to solve this representation issue:
- Each agent got its own intangible costs to match the observed market share. Regardless of the technical and
behavioral characteristics of the agents, their market share will be identical as long as they start and end at
the same level of energy performance. (option 0)
- Intangible cost is aggregated to reflect the average initial market share. Each agents group share the same
intangible costs to match the observed market share. It shows diversity among agents initial market share to
reflect different technical and behavioral characteristics. Concretely the aggregation of the data is done by a
weighted average of the distribution of the households. (option 1)
- Intangible cost are aggregated over the Heating energy dimension thanks a representative agent of all heating
energy. This solution has been implemented to match previous version of Res-IRF. (option 2)
- Not implemented: another way would be to calibrate the intangible cost by calculating life-cycle cost for
a representative agent.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>energy_prices</strong> (<em>pd.DataFrame</em>) – </p></li>
<li><p><strong>market_share_ini</strong> (<em>pd.DataFrame</em>) – Observed market share to match during calibration_year.</p></li>
<li><p><strong>cost_invest</strong> (<em>dict</em><em>, </em><em>optional</em>) – </p></li>
<li><p><strong>consumption</strong> (<em>{'conventional'</em><em>, </em><em>'actual'}</em><em>, </em><em>default 'conventional'</em>) – </p></li>
<li><p><strong>subsidies</strong> (<em>list</em><em>, </em><em>optional</em>) – subsidies to consider in the market share</p></li>
<li><p><strong>option</strong> (<em>int</em><em>, </em><em>default 0</em>) – <dl class="simple">
<dt>0: intangible cost is segmented</dt><dd><p>Each agent got its own intangible costs to match the observed market share.</p>
</dd>
<dt>1: intangible cost is aggregated based on initial market share attributes</dt><dd><p>Each agents group share intangible costs to match the observed market share.
This option allows some diversity in the calculated market share between member of each group.</p>
</dd>
</dl>
<p>2: intangible cost is aggregated on heating energy level (what was done before)</p>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>pd.DataFrame</em> – Intangible cost</p></li>
<li><p><em>pd.DataFrame</em> – Market share calculated and observed</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="buildings.HousingStock.data2area">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">data2area</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">l2area</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ds_seg</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Multiply unitary measured data by surface data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>l2area</strong> (<em>pd.Series</em>) – Attributes indexed data surface.</p></li>
<li><p><strong>ds_seg</strong> (<em>pd.Series</em><em> or </em><em>pd.DataFrame</em>) – Attributes indexed data to be multiplied by data area.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pd.Series or pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="buildings.HousingStock.energy_expenditure">
<span class="sig-name descname"><span class="pre">energy_expenditure</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">energy_price</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Calculate total energy expenditure (€) by agent for current year.</p>
<p>€ = €/kWh x kWh/m2 x m2/building x buildings</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>energy_price</strong> (<em>pd.Series</em><em> or </em><em>pd.DataFrame</em>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Total energy expenditure by agent.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pd.Series</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="buildings.HousingStock.information_acceleration">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">information_acceleration</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">knowledge</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cost_intangible</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">share</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">learning_rate</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Decrease intangible cost to capture peer effects and knowledge diffusion.</p>
<p>Intangible renovation costs decrease according to a logistic curve with the same cumulative production so as
to capture peer effects and knowledge diffusion.
The rate of decrease (learning_rate) is set at 25% of non-fixed share for a doubling of cumulative production.</p>
<p>Res-IRF splits intangible costs into a fixed share <cite>share</cite> mimicking hidden costs, and a variable share
1−`share` mimicking adoption externalities. Note that the value of <cite>share</cite> is fraught with uncertainty, due to
the upstream problem of empirically separating the different types of barriers.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>knowledge</strong> (<em>pd.Series</em>) – Knowledge indexes should match cost columns.</p></li>
<li><p><strong>cost_intangible</strong> (<em>pd.DataFrame</em>) – </p></li>
<li><p><strong>share</strong> (<em>float</em>) – Share of fixed intangible costs.</p></li>
<li><p><strong>learning_rate</strong> (<em>float</em>) – Rate of decrease of non-fixed share for a doubling of cumulative production.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>cost_intangible</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="buildings.HousingStock.information_rate">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">information_rate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">knowledge</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">learning_rate</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">share</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Returns information rate that capture peer effects and knowledge diffusion.</p>
<p>More info_rate is high, more intangible_cost are low.
Intangible renovation costs decrease according to a logistic curve with the same cumulative
production so as to capture peer effects and knowledge diffusion.
intangible_cost[yr] = intangible_cost[calibration_year] * info_rate with info rate [1-info_rate_max ; 1]
This function calibrate a logistic function, so rate of decrease is set at 25% for a doubling of cumulative
production.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>knowledge</strong> (<em>pd.Series</em>) – Knowledge indexes match cost columns to reach final state after transition.</p></li>
<li><p><strong>share</strong> (<em>float</em>) – Share of non-fixed costs.</p></li>
<li><p><strong>learning_rate</strong> (<em>float</em>) – Rate of decrease of non-fixed share for a doubling of cumulative production.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pd.Series</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="buildings.HousingStock.ini_energy_cash_flows">
<span class="sig-name descname"><span class="pre">ini_energy_cash_flows</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">energy_price</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Initialize exogenous variable that doesn’t depend on dynamic to fasten the script.</p>
<p>For instance budget_share only depends on energy_price, and income that are exogenous variables.
So does, heating_intensity and consumption_actual.</p>
<p>List of attribute initialized:
Initialized by launching self.to_consumption_actual(energy_price)
- buildings.area: pd.Series (doesn’t depend on time)
- buildings.budget_share: pd.DataFrame (depends on energy_price and income so depend on time)
- buildings.heating_intensity: pd.DataFrame (depends on energy_price and income so depend on time)
- buildings.consumption_conventional: pd.Series (doesn’t depend on time)
- buildings.consumption_actual: pd.DataFrame (depends on energy_price and income so depend on time)</p>
<ul class="simple">
<li><p>buildings.energy_cash_flows[‘conventional’]: pd.DataFrame</p></li>
<li><p>buildings.energy_cash_flows_disc[‘conventional’]: pd.DataFrame</p></li>
<li><p>buildings.energy_cash_flows[‘actual’]: pd.DataFrame</p></li>
<li><p>buildings.energy_cash_flows_disc[‘actual’]: pd.DataFrame</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>energy_price</strong> (<em>pd.DataFrame</em>) – </p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="buildings.HousingStock.initial2final">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">initial2final</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ds</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">idx_full</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">transition</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Catch final state agent values as the initial state of another agent.</p>
<p>When a segment final state match another segment initial state,
it’s therefore fasten to directly catch the value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ds</strong> (<em>pd.Series</em>) – Data to pick values</p></li>
<li><p><strong>idx_full</strong> (<em>pd.MultiIndex</em>) – Corresponds to final state data index</p></li>
<li><p><strong>transition</strong> (<em>list</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pd.Series</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="buildings.HousingStock.lcc2market_share">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">lcc2market_share</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lcc_df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nu</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">8.0</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Returns market share for each segment based on lcc_df.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lcc_df</strong> (<em>pd.DataFrame</em><em> or </em><em>pd.Series</em>) – </p></li>
<li><p><strong>nu</strong> (<em>float</em><em>, </em><em>optional</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>DataFrame if lcc_df is DataFrame or Series if lcc_df is Series.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="buildings.HousingStock.learning_by_doing">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">learning_by_doing</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">knowledge</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cost</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">learning_rate</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cost_lim</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Decrease capital cost after considering learning-by-doing effect.</p>
<p>Investment costs decrease exponentially with the cumulative sum of operations so as to capture
a “learning-by-doing” process.
The rate of cost reduction is set at 15% in new construction and 10% in renovation for a doubling of production.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>knowledge</strong> (<em>pd.Series</em>) – knowledge indexes match cost columns to reach final state after transition</p></li>
<li><p><strong>cost</strong> (<em>pd.DataFrame</em>) – </p></li>
<li><p><strong>learning_rate</strong> (<em>float</em>) – </p></li>
<li><p><strong>cost_lim</strong> (<em>optional</em><em>, </em><em>pd.DataFrame</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="buildings.HousingStock.mul_consumption">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">mul_consumption</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">consumption</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mul_df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">option</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'initial'</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Multiply any pd.DataFrame to consumption.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>consumption</strong> (<em>pd.DataFrame</em><em> or </em><em>pd.Series</em>) – </p></li>
<li><p><strong>mul_df</strong> (<em>pd.DataFrame</em><em> or </em><em>pd.Series</em>) – </p></li>
<li><p><strong>option</strong> (<em>str</em><em>, </em><em>{'initial'</em><em>, </em><em>'final'}</em><em>, </em><em>default 'initial'</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pd.DataFrame or pd.Series</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="buildings.HousingStock.to_area">
<span class="sig-name descname"><span class="pre">to_area</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scenario</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">segments</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Returns area by agent.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>segments</strong> (<em>pd.MultiIndex</em><em>, </em><em>optional</em>) – Indexed used to reindex data. Default building stock indexes.</p></li>
<li><p><strong>scenario</strong> (<em>str</em><em>, </em><em>optional</em>) – Scenario needs to be specified if attributes2income is a dictionary.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Area by agent.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pd.Series</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="buildings.HousingStock.to_consumption">
<span class="sig-name descname"><span class="pre">to_consumption</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">consumption</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">segments</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">energy_prices</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Returns conventional or actual energy consumption.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>consumption</strong> (<em>str</em><em>, </em><em>{'conventional'</em><em>, </em><em>'actual'}</em>) – </p></li>
<li><p><strong>segments</strong> (<em>pd.Index</em><em>, </em><em>optional</em>) – If segments is not filled, use self.segments.</p></li>
<li><p><strong>energy_prices</strong> (<em>pd.DataFrame</em><em>, </em><em>optional</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Conventional or actual energy consumption.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pd.Series or pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="buildings.HousingStock.to_consumption_actual">
<span class="sig-name descname"><span class="pre">to_consumption_actual</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">energy_prices</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">detailed_output</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">segments</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Returns actual energy consumption by agent and years.</p>
<p>A growing number of academic studies point to a gap between the conventional energy consumption predicted
by energy performance certificates and actual energy consumption.
The most common explanation is a more intense heating of the heating infrastructure after an energy efficiency
improvement – a phenomenon commonly referred to as the “rebound effect.”</p>
<p>Heating Intensity = -0.191 * log(Income Share) + 0.1105</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>energy_prices</strong> (<em>pd.DataFrame</em>) – </p></li>
<li><p><strong>detailed_output</strong> (<em>boolean</em><em>, </em><em>default False</em>) – </p></li>
<li><p><strong>segments</strong> (<em>pd.Index</em><em>, </em><em>optional</em>) – Indexed used to reindex data. Default building stock indexes.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Actual energy consumption by agent and years.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="buildings.HousingStock.to_consumption_conventional">
<span class="sig-name descname"><span class="pre">to_consumption_conventional</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scenario</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">segments</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Returns conventional energy consumption by agent.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>segments</strong> (<em>pd.MultiIndex</em><em>, </em><em>optional</em>) – Indexed used to reindex data. Default building stock indexes.</p></li>
<li><p><strong>scenario</strong> (<em>str</em><em>, </em><em>optional</em>) – Scenario needs to be specified if attributes2income is a dictionary.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Conventional energy consumption by agent.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pd.Series</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="buildings.HousingStock.to_consumption_final">
<span class="sig-name descname"><span class="pre">to_consumption_final</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">consumption</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'conventional'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">transition</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Returns conventional or actual energy consumption by agent for all possible final state.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>consumption</strong> (<em>str</em><em>, </em><em>{'conventional'</em><em>, </em><em>'actual'}</em>) – </p></li>
<li><p><strong>transition</strong> (<em>list</em><em>, </em><em>default</em><em> [</em><em>'Energy performance'</em><em>, </em><em>'Heating energy'</em><em>]</em>) – Transition defined possible final states.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Conventional or actual energy consumption by agent and</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pd.Series or pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="buildings.HousingStock.to_discount_factor">
<span class="sig-name descname"><span class="pre">to_discount_factor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scenario_horizon</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scenario_discount</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">segments</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Calculate discount factor by agent.</p>
<p>Discount factor can be used when agents doesn’t anticipate prices evolution.
Discount factor does not depend on the year it is calculated.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Discount factor by agent</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>pd.Series</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="buildings.HousingStock.to_discount_rate">
<span class="sig-name descname"><span class="pre">to_discount_rate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scenario</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">segments</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Returns discount rate by agent.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>segments</strong> (<em>pd.MultiIndex</em><em>, </em><em>optional</em>) – Indexed used to reindex data. Default building stock indexes.</p></li>
<li><p><strong>scenario</strong> (<em>str</em><em>, </em><em>optional</em>) – Scenario needs to be specified if attributes2income is a dictionary.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Discount rate by agent.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pd.Series</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="buildings.HousingStock.to_discounted">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">to_discounted</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rate</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Returns discounted DataFrame from DataFrame and discount rate.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pd.DataFrame</em>) – Time series data by agent. Agents are in row and years in columns.</p></li>
<li><p><strong>rate</strong> (<em>float</em><em> or </em><em>pd.Series</em>) – Discount rate constant or by agent.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Discounted data. Agents are in row and years in columns.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="buildings.HousingStock.to_emission_saving">
<span class="sig-name descname"><span class="pre">to_emission_saving</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">co2_content</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">transition</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">consumption</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'conventional'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">energy_prices</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Calculate emission saving by agent between initial and all possible final state.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>co2_content</strong> (<em>pd.DataFrame</em>) – </p></li>
<li><p><strong>transition</strong> (<em>{</em><em>(</em><em>Energy performance</em><em>, </em><em>)</em><em>, </em><em>(</em><em>Heating energy</em><em>, </em><em>)</em><em>, </em><em>(</em><em>Energy performance</em><em>, </em><em>Heating energy</em><em>)</em>) – </p></li>
<li><p><strong>consumption</strong> (<em>{'conventional'</em><em>, </em><em>'actual'}</em>) – </p></li>
<li><p><strong>energy_prices</strong> (<em>pd.DataFrame</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Conventional or actual energy saving by agent.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pd.Series or pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="buildings.HousingStock.to_emission_saving_lc">
<span class="sig-name descname"><span class="pre">to_emission_saving_lc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">co2_content</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">transition</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">consumption</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'conventional'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">horizon</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">30</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">discount</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.04</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">energy_prices</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Calculate life-cycle emission saving between initial and final state for the entire project duration.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>co2_content</strong> (<em>pd.DataFrame</em>) – </p></li>
<li><p><strong>transition</strong> (<em>{</em><em>(</em><em>Energy performance</em><em>, </em><em>)</em><em>, </em><em>(</em><em>Heating energy</em><em>, </em><em>)</em><em>, </em><em>(</em><em>Energy performance</em><em>, </em><em>Heating energy</em><em>)</em>) – </p></li>
<li><p><strong>consumption</strong> (<em>{'conventional'</em><em>, </em><em>'actual'}</em>) – </p></li>
<li><p><strong>horizon</strong> (<em>int</em><em>, </em><em>default 30</em>) – </p></li>
<li><p><strong>discount</strong> (<em>float</em><em>, </em><em>default 0.04</em>) – </p></li>
<li><p><strong>energy_prices</strong> (<em>pd.DataFrame</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Conventional or actual emission saving by agent.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pd.Series or pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="buildings.HousingStock.to_energy_lcc">
<span class="sig-name descname"><span class="pre">to_energy_lcc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">energy_prices</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">transition</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">consumption</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'conventional'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">segments</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Return energy-life-cycle-cost discounted by agents, and energy prices.</p>
<p>Energy LCC is calculated on an agent-specific horizon, and discount rate.
Time horizon depends on transition (transition defined the investment horizon).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>energy_prices</strong> (<em>pd.DataFrame</em>) – </p></li>
<li><p><strong>transition</strong> (<em>list</em><em>, </em><em>default</em><em> [</em><em>'Energy performance'</em><em>]</em>) – </p></li>
<li><p><strong>consumption</strong> (<em>str</em><em>, </em><em>{'conventional'</em><em>, </em><em>'actual}</em><em>, </em><em>default 'conventional'</em>) – </p></li>
<li><p><strong>segments</strong> (<em>pd.MultiIndex</em><em>, </em><em>optional</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Energy-life-cycle-cost discounted by agents.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pd.Series</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="buildings.HousingStock.to_energy_lcc_final">
<span class="sig-name descname"><span class="pre">to_energy_lcc_final</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">energy_prices</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">transition</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">consumption</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'conventional'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">segments</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Calculate energy life-cycle cost based on transition.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="buildings.HousingStock.to_energy_saving">
<span class="sig-name descname"><span class="pre">to_energy_saving</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">transition</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">consumption</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'conventional'</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Calculate energy saving by agent between initial and all possible final state.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>transition</strong> (<em>list</em><em>, </em><em>default</em><em> [</em><em>'Energy performance'</em><em>, </em><em>'Heating energy'</em><em>]</em>) – Transition defined possible final states.</p></li>
<li><p><strong>consumption</strong> (<em>str</em><em>, </em><em>{'conventional'</em><em>, </em><em>'actual'}</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Conventional or actual energy saving by agent.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pd.Series or pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="buildings.HousingStock.to_energy_saving_lc">
<span class="sig-name descname"><span class="pre">to_energy_saving_lc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">transition</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">consumption</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'conventional'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">discount</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.04</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Calculate life-cycle energy saving between initial and all possible final state for the entire project duration.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>transition</strong> (<em>{</em><em>(</em><em>Energy performance</em><em>, </em><em>)</em><em>, </em><em>(</em><em>Heating energy</em><em>, </em><em>)</em><em>, </em><em>(</em><em>Energy performance</em><em>, </em><em>Heating energy</em><em>)</em>) – Transition defined possible final states.</p></li>
<li><p><strong>consumption</strong> (<em>{'conventional'</em><em>, </em><em>'actual'}</em>) – </p></li>
<li><p><strong>discount</strong> (<em>float</em><em>, </em><em>default 0.04</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="buildings.HousingStock.to_final">
<span class="sig-name descname"><span class="pre">to_final</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ds</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">transition</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">segments</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Returns final state value index by columns and by initial state agent.</p>
<p>For transition attributes, initial state doesn’t influence results.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ds</strong> (<em>pd.Series</em>) – </p></li>
<li><p><strong>transition</strong> (<em>list</em><em>, </em><em>default</em><em> [</em><em>'Energy performance'</em><em>, </em><em>'Heating energy'</em><em>]</em>) – </p></li>
<li><p><strong>segments</strong> (<em>pd.Index</em><em>, </em><em>optional</em>) – Use self.segments if input is not filled.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="buildings.HousingStock.to_horizon">
<span class="sig-name descname"><span class="pre">to_horizon</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scenario</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">segments</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Returns investment horizon by agent.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>segments</strong> (<em>pd.MultiIndex</em><em>, </em><em>optional</em>) – Indexed used to reindex data. Default building stock indexes.</p></li>
<li><p><strong>scenario</strong> (<em>str</em><em>, </em><em>optional</em>) – Scenario needs to be specified if attributes2income is a dictionary.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Investment horizon by agent.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pd.Series</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="buildings.HousingStock.to_income">
<span class="sig-name descname"><span class="pre">to_income</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scenario</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">segments</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Returns annual income by agent.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>segments</strong> (<em>pd.MultiIndex</em><em>, </em><em>optional</em>) – Indexed used to reindex data. Default building stock indexes.</p></li>
<li><p><strong>scenario</strong> (<em>str</em><em>, </em><em>optional</em>) – Scenario needs to be specified if attributes2income is a dictionary.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Annual income by agent.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pd.Series</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="buildings.HousingStock.to_io_share_seg">
<span class="sig-name descname"><span class="pre">to_io_share_seg</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>Calculate attributes share by income class owner.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p></p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>pd.Series</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="buildings.HousingStock.to_lcc_final">
<span class="sig-name descname"><span class="pre">to_lcc_final</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">energy_prices</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cost_invest</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cost_intangible</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">transition</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">consumption</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'conventional'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subsidies</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">segments</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">energy_lcc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Calculate life-cycle-cost of home-energy retrofits for every segment and every possible transition.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>energy_prices</strong> (<em>pd.DataFrame</em>) – index are heating energy and columns are years.</p></li>
<li><p><strong>cost_invest</strong> (<em>dict</em><em>, </em><em>optional</em>) – keys are transition (cost_invest[‘Energy performance’]) and item are pd.DataFrame</p></li>
<li><p><strong>cost_intangible</strong> (<em>dict</em><em>, </em><em>optional</em>) – keys are transition (cost_intangible[‘Energy performance’]) and item are pd.DataFrame</p></li>
<li><p><strong>consumption</strong> (<em>{'conventional'</em><em>, </em><em>'actual'}</em><em>, </em><em>default 'conventional</em>) – </p></li>
<li><p><strong>transition</strong> (<em>list</em><em>, </em><em>default</em><em> [</em><em>'Energy performance'</em><em>]</em>) – define transition. Transition can be defined as attributes transition, energy transition, or attributes-energy transition.</p></li>
<li><p><strong>subsidies</strong> (<em>list</em><em>, </em><em>optional</em>) – list of subsidies object</p></li>
<li><p><strong>segments</strong> (<em>pd.MultiIndex</em><em> or </em><em>pd.Index</em><em>, </em><em>optional</em>) – </p></li>
<li><p><strong>energy_lcc</strong> (<em>pd.Series</em><em>, </em><em>optional</em>) – Allow the user to chose manually an energy_lcc. Otherwise self.to_energy_lcc_final will be launched.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>life-cycle-cost DataFrame is structured for every initial state (index) to every final state defined by transition (columns).</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="buildings.HousingStock.to_market_share">
<span class="sig-name descname"><span class="pre">to_market_share</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">energy_prices</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">transition</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">consumption</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'conventional'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cost_invest</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cost_intangible</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subsidies</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nu</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">8.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">segments</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Returns market share for each segment and each possible final state.</p>
<p>Parameter nu characterizing the heterogeneity of preferences is set to 8 in the model.
Intangible costs are calibrated so that the observed market shares are reproduced in the initial year.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>energy_prices</strong> (<em>pd.DataFrame</em>) – </p></li>
<li><p><strong>cost_invest</strong> (<em>dict</em><em>, </em><em>optional</em>) – </p></li>
<li><p><strong>cost_intangible</strong> (<em>dict</em><em>, </em><em>optional</em>) – </p></li>
<li><p><strong>consumption</strong> (<em>{'conventional'</em><em>, </em><em>'actual'}</em><em>, </em><em>default 'conventional</em>) – </p></li>
<li><p><strong>transition</strong> (<em>list</em><em>, </em><em>{</em><em>[</em><em>'Energy performance'</em><em>]</em><em>, </em><em>[</em><em>'Heating energy'</em><em>]</em><em>, </em><em>[</em><em>'Energy performance'</em><em>, </em><em>'Heating energy'</em><em>]</em><em>}</em><em>,</em>) – default [‘Energy performance’]</p></li>
<li><p><strong>subsidies</strong> (<em>list</em><em>, </em><em>optional</em>) – List of subsidies object</p></li>
<li><p><strong>segments</strong> (<em>pd.MultiIndex</em><em>, </em><em>optional</em>) – </p></li>
<li><p><strong>nu</strong> (<em>float</em><em> or </em><em>int</em><em>, </em><em>default 8.0</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>market_share, lcc_final</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="buildings.HousingStock.to_market_share_energy">
<span class="sig-name descname"><span class="pre">to_market_share_energy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">energy_prices</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">consumption</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'conventional'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cost_invest</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cost_intangible</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subsidies</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nu</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">8.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">segments</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Only used for nested technology transition.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>energy_prices</strong> – </p></li>
<li><p><strong>consumption</strong> – </p></li>
<li><p><strong>cost_invest</strong> – </p></li>
<li><p><strong>cost_intangible</strong> – </p></li>
<li><p><strong>subsidies</strong> – </p></li>
<li><p><strong>nu</strong> – </p></li>
<li><p><strong>segments</strong> – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="buildings.HousingStock.to_stock_area">
<span class="sig-name descname"><span class="pre">to_stock_area</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scenario</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">segments</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Returns area (surface) of current building stock by agent.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>segments</strong> (<em>pd.MultiIndex</em><em>, </em><em>optional</em>) – </p></li>
<li><p><strong>scenario</strong> (<em>str</em><em>, </em><em>optional</em>) – Scenario needs to be specified if attributes2area is a dictionary.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Area by agent.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pd.Series</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="buildings.HousingStock.to_summed">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">to_summed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">yr_ini</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">horizon</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Sum each rows of df from yr_ini to its horizon.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pd.DataFrame</em>) – Agents are in row and years in columns.</p></li>
<li><p><strong>yr_ini</strong> (<em>int</em>) – </p></li>
<li><p><strong>horizon</strong> (<em>pd.Series</em>) – pd.MultiIndex as index</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pd.Series</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="buildings.HousingStock.to_transition">
<span class="sig-name descname"><span class="pre">to_transition</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ds</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">transition</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Returns pd.DataFrame from pd.Series by adding final state as column with same value.</p>
<p>Create a MultiIndex columns when it occurs simultaneous transitions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ds</strong> (<em>pd.Series</em><em>, </em><em>pd.DataFrame</em>) – </p></li>
<li><p><strong>transition</strong> (<em>list</em><em>, </em><em>default</em><em> [</em><em>'Energy performance'</em><em>]</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="buildings.HousingStockConstructed">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">buildings.</span></span><span class="sig-name descname"><span class="pre">HousingStockConstructed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stock</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attributes_values</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stock_needed_ts</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">share_multi_family</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">os_share_ht</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tenants_income</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stock_area_existing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attributes2area</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attributes2horizon</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attributes2discount</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attributes2income</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attributes2consumption</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span></dt>
<dd><dl class="py method">
<dt class="sig sig-object py" id="buildings.HousingStockConstructed.calibration_market_share">
<span class="sig-name descname"><span class="pre">calibration_market_share</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">energy_price</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">market_share_objective</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cost_invest</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">consumption</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'conventional'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subsidies</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Returns intangible costs construction by calibrating market_share.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>energy_price</strong> (<em>pd.DataFrame</em>) – </p></li>
<li><p><strong>market_share_objective</strong> (<em>pd.DataFrame</em>) – Observed market share to match during calibration_year.</p></li>
<li><p><strong>cost_invest</strong> (<em>dict</em><em>, </em><em>optional</em>) – </p></li>
<li><p><strong>consumption</strong> (<em>{'conventional'</em><em>, </em><em>'actual'}</em><em>, </em><em>default 'conventional'</em>) – </p></li>
<li><p><strong>subsidies</strong> (<em>list</em><em>, </em><em>optional</em>) – subsidies to consider in the market share</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>pd.DataFrame</em> – Intangible cost</p></li>
<li><p><em>pd.DataFrame</em> – Market share calculated and observed</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="buildings.HousingStockConstructed.evolution_area_construction">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">evolution_area_construction</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">area_construction_prev</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">area_construction_ini</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">area_construction_max</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">elasticity_area</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">available_income_ratio</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Evolution of new buildings area based on total available income. Function represents growth.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>area_construction_prev</strong> (<em>pd.Series</em>) – </p></li>
<li><p><strong>area_construction_ini</strong> (<em>pd.Series</em>) – </p></li>
<li><p><strong>area_construction_max</strong> (<em>pd.Series</em>) – </p></li>
<li><p><strong>elasticity_area</strong> (<em>pd.Series</em>) – </p></li>
<li><p><strong>available_income_ratio</strong> (<em>float</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pd.Series</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="buildings.HousingStockConstructed.to_flow_area_constructed_ini">
<span class="sig-name descname"><span class="pre">to_flow_area_constructed_ini</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stock_area_existing</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Initialize construction knowledge.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="buildings.HousingStockConstructed.to_flow_constructed_dm">
<span class="sig-name descname"><span class="pre">to_flow_constructed_dm</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>Returns flow of constructed buildings segmented by decision-maker (dm) (Housing type, Occupancy status).</p>
<ol class="arabic simple">
<li><p>Increase in the share of multi-family housing in the total stock.</p></li>
<li><p>The share of owner-occupied and rented dwellings is held constant.</p></li>
</ol>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>MultiIndex: (Housing type, Occupancy status), value: buildings constructed</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>pd.Series</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="buildings.HousingStockConstructed.to_flow_constructed_dm_he_ep">
<span class="sig-name descname"><span class="pre">to_flow_constructed_dm_he_ep</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">energy_price</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cost_intangible</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cost_invest</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">consumption</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'conventional'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nu</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">8.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subsidies</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Returns flow of constructed buildings segmented.</p>
<ol class="arabic simple">
<li><p>Calculate construction flow segmented by decision-maker:</p></li>
<li><p>Calculate the market-share of Heating energy and Energy performance type by decision-maker: market_share_dm;</p></li>
<li><p>Calculate construction flow segmented by decision-maker and heating energy, energy performance;</p></li>
</ol>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>energy_price</strong> (<em>pd.DataFrame</em>) – </p></li>
<li><p><strong>cost_intangible</strong> (<em>pd.DataFrame</em><em>, </em><em>optional</em>) – </p></li>
<li><p><strong>cost_invest</strong> (<em>pd.DataFrame</em><em>, </em><em>optional</em>) – </p></li>
<li><p><strong>consumption</strong> (<em>{'conventional'</em><em>, </em><em>'actual'}</em><em>, </em><em>default 'conventional'</em>) – </p></li>
<li><p><strong>nu</strong> (<em>float</em><em>, </em><em>default 8.0</em>) – </p></li>
<li><p><strong>subsidies</strong> (<em>list</em><em>, </em><em>optional</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>flow of constructed housing segmented by (Housing type, Occupancy status, Energy performance,
Heating energy)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pd.Series</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="buildings.HousingStockConstructed.to_flow_constructed_seg">
<span class="sig-name descname"><span class="pre">to_flow_constructed_seg</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">energy_price</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cost_intangible</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cost_invest</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">consumption</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nu</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">8.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subsidies</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Add Income class and Income class owner levels to flow_constructed.</p>
<dl class="simple">
<dt>io_share_seg: pd.DataFrame</dt><dd><p>for each segment (rows) distribution of income class owner decile (columns)</p>
</dd>
<dt>ic_share_seg: pd.DataFrame</dt><dd><p>for each segment (rows) distribution of income class owner decile (columns)</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>energy_price</strong> (<em>pd.DataFrame</em>) – cost_intangible: pd.DataFrame, optional</p></li>
<li><p><strong>cost_intangible</strong> (<em>pd.DataFrame</em><em>, </em><em>optional</em>) – </p></li>
<li><p><strong>cost_invest</strong> (<em>pd.DataFrame</em><em>, </em><em>optional</em>) – </p></li>
<li><p><strong>consumption</strong> (<em>{'conventional'</em><em>, </em><em>'actual'}</em><em>, </em><em>default 'conventional'</em>) – </p></li>
<li><p><strong>nu</strong> (<em>float</em><em>, </em><em>default 8.0</em>) – </p></li>
<li><p><strong>subsidies</strong> (<em>list</em><em>, </em><em>optional</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>flow of constructed housing segmented by (Housing type, Occupancy status, Energy performance,
Heating energy, Income class, Income class owner)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pd.Series</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="buildings.HousingStockConstructed.to_share_housing_type">
<span class="sig-name descname"><span class="pre">to_share_housing_type</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>Returns share of Housing type (‘Multi-family’, ‘Single-family’) in the new constructed housings.</p>
<p>Share of multi-family in the total stock to reflect urbanization effects.
Demolition dynamic is made endogenously and therefore construction should reflect the evolution..</p>
<p>Share_multifamily[year] = Stock_multifamily[year] / Stock[year]
Share_multifamily[year] = (Stock_multifamily[year - 1] + Flow_multifamily_construction) / Stock[year]
Share_multifamily[year] = (Share_multifamily[year - 1] * Stock[year - 1] + Flow_multifamily_construction) / Stock[year]
Flow_multifamily_construction = Share_multifamily[year] * Stock[year] - Share_multifamily[year - 1] * Stock[year - 1]</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>index: housing type, value: share of housing type in the stock of constructed buildings.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>pd.Series</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="buildings.HousingStockConstructed.update_area_construction">
<span class="sig-name descname"><span class="pre">update_area_construction</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">elasticity_area_new_ini</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">available_income_real_pop_ds</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">area_max_construction</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Every year, average area of new buildings increase with available income.</p>
<p>Trend is based on elasticity area / income.
eps_area_new decrease over time and reduce elasticity while average area converge towards area_max.
exogenous_dict[‘population_total_ds’]</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>elasticity_area_new_ini</strong> (<em>pd.Series</em>) – </p></li>
<li><p><strong>available_income_real_pop_ds</strong> (<em>pd.Series</em>) – </p></li>
<li><p><strong>area_max_construction</strong> (<em>pd.Series</em>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="buildings.HousingStockConstructed.update_flow_constructed_seg">
<span class="sig-name descname"><span class="pre">update_flow_constructed_seg</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">energy_price</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cost_intangible</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cost_invest</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">consumption</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'conventional'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nu</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">8.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subsidies</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Update HousingConstructed object flow_constructed_seg attribute.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>energy_price</strong> (<em>pd.DataFrame</em>) – cost_intangible: pd.DataFrame, optional</p></li>
<li><p><strong>cost_intangible</strong> (<em>dict</em><em>, </em><em>optional</em>) – </p></li>
<li><p><strong>cost_invest</strong> (<em>dict</em><em>, </em><em>optional</em>) – </p></li>
<li><p><strong>consumption</strong> (<em>{'conventional'</em><em>, </em><em>'actual'}</em><em>, </em><em>default 'conventional'</em>) – </p></li>
<li><p><strong>nu</strong> (<em>float</em><em>, </em><em>default 8.0</em>) – </p></li>
<li><p><strong>subsidies</strong> (<em>list</em><em>, </em><em>optional</em>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="buildings.HousingStockRenovated">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">buildings.</span></span><span class="sig-name descname"><span class="pre">HousingStockRenovated</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stock</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attributes_values</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2018</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">residual_rate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">destruction_rate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rate_renovation_ini</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">learning_year</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">npv_min</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rate_max</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rate_min</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attributes2area</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attributes2horizon</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attributes2discount</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attributes2income</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attributes2consumption</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwh_cumac_transition</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Class that represents an existing buildings stock that can (i) renovate buildings, (ii) demolition buildings.</p>
<p>Some stocks imply change for other stock: stock_master.
Stock_master should be property as the setter methods need to change all dependencies stock: stock_slave.
As they need to be initialize there is a private attribute in the init.
.. rubric:: Example</p>
<p>A modification of stock will change stock_mobile_seg. stock_mobile_seg cannot change directly.</p>
<p>Some stocks doesn’t have stock_master and stock_slave: they are public.
Example:</p>
<p>Some stocks need to be stored in a dict. Their modification need to be updated in the dict.
Theses stocks are properties as the setter method updates the stock_dict.
As they need to be initialize there is a private attribute in the init.
Dict cannot be change directly as they depend on stock (only when to change in the setter method of the stock)
.. rubric:: Example</p>
<p>_stock_knowledge_dict = _stock_knowledge_dict.append({year: stock_knowledge})</p>
<p>These stocks can be a slave stock. In that case all updates are in the stock master setter methods.
.. rubric:: Example</p>
<p>_stock_mobile &amp; _stock_mobile_dict</p>
<dl class="py method">
<dt class="sig sig-object py" id="buildings.HousingStockRenovated.calibration_renovation_rate">
<span class="sig-name descname"><span class="pre">calibration_renovation_rate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">energy_prices</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">renovation_rate_ini</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">consumption</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'conventional'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cost_invest</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cost_intangible</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subsidies</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">option</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Calibration of the ρ parameter of the renovation rate function (logistic function of the NPV).</p>
<p>Renovation rate of dwellings attributes led is calculated as a logistic function of the NPV.
The logistic form captures heterogeneity in heating preference and habits,
assuming they are normally distributed.
Parameter ρ is calibrated, for each type of attributes. It is then aggregated or not, depending of weighted
parameter.</p>
<p>For instance, ρ was calibrated in 2012, for each type of  decision-maker and each initial certificates
(i.e., 6x6=36 values), so that the NPVs calculated with the subsidies in effect in 2012 (see main article)
reproduce the observed renovation rates.
Renovation rate observed depends on (Occupancy status, Housing type)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>energy_prices</strong> (<em>pd.DataFrame</em>) – </p></li>
<li><p><strong>renovation_rate_ini</strong> (<em>pd.Series</em>) – </p></li>
<li><p><strong>consumption</strong> (<em>{'conventional'</em><em>, </em><em>'actual'}</em><em>, </em><em>default 'conventional'</em>) – </p></li>
<li><p><strong>cost_invest</strong> (<em>dict</em>) – </p></li>
<li><p><strong>cost_intangible</strong> (<em>dict</em>) – </p></li>
<li><p><strong>subsidies</strong> (<em>list</em>) – </p></li>
<li><p><strong>option</strong> (<em>int</em><em>, </em><em>default 0</em>) – 0: rho for each agent_mean (based on a NPV mean)
1: unique calibration function for all agents (rho, npv_min, rate_min, rate_max)
2: segmented rho for each individual agent
3: calculate rho mean for group of agents</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>pd.Series</em> – ρ parameters by segment</p></li>
<li><p><em>pd.DataFrame</em> – Concatenation of renovation_rate_ini, renovation_rate_calculated.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="buildings.HousingStockRenovated.calibration_rho">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">calibration_rho</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">npv</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">renovation_rate_target</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rate_max</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rate_min</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">npv_min</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Function that returns rho in order to match the targeted renovation rate.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>npv</strong> (<em>pd.Series</em>) – Net present value calculated.</p></li>
<li><p><strong>renovation_rate_target</strong> (<em>pd.Series</em>) – Targeted renovation rate.</p></li>
<li><p><strong>rate_max</strong> (<em>float</em>) – </p></li>
<li><p><strong>rate_min</strong> (<em>float</em>) – </p></li>
<li><p><strong>npv_min</strong> (<em>float</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pd.Series</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="buildings.HousingStockRenovated.flow_area_renovated_seg_ini">
<span class="sig-name descname"><span class="pre">flow_area_renovated_seg_ini</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rate_renovation_ini</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">learning_year</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Initialize flow area renovated.</p>
<dl class="simple">
<dt>Flow area renovation is defined as:</dt><dd><p>renovation rate (2.7%/yr) x number of learning years (10 yrs) x renovated area (m2).</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="buildings.HousingStockRenovated.flow_renovation_ep">
<span class="sig-name descname"><span class="pre">flow_renovation_ep</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">energy_prices</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">consumption</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'conventional'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cost_invest</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cost_intangible</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subsidies</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">renovation_obligation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mutation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rotation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Calculate flow renovation by energy performance final.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>energy_prices</strong> (<em>pd.DataFrame</em>) – </p></li>
<li><p><strong>cost_invest</strong> (<em>dict</em><em>, </em><em>optional</em>) – </p></li>
<li><p><strong>cost_intangible</strong> (<em>dict</em><em>, </em><em>optional</em>) – </p></li>
<li><p><strong>consumption</strong> (<em>str</em><em>, </em><em>default 'conventional'</em>) – </p></li>
<li><p><strong>subsidies</strong> (<em>dict</em><em>, </em><em>optional</em>) – </p></li>
<li><p><strong>renovation_obligation</strong> (<em>RenovationObligation</em><em>, </em><em>optional</em>) – </p></li>
<li><p><strong>mutation</strong> (<em>pd.Series</em><em> or </em><em>float</em><em>, </em><em>default 0.0</em>) – </p></li>
<li><p><strong>rotation</strong> (<em>pd.Series</em><em> or </em><em>float</em><em>, </em><em>default 0.0</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="buildings.HousingStockRenovated.renovate_rate_func">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">renovate_rate_func</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">npv</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rho</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">npv_min</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rate_max</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rate_min</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Calculate renovation rate for indexed pd.Series rho and indexed pd.Series npv.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>npv</strong> (<em>pd.Series</em>) – Indexes are the first elements of NPV and last value is the actual NPV value.</p></li>
<li><p><strong>rho</strong> (<em>pd.Series</em>) – Rho MultiIndex pd.Series containing rho values and indexed by stock attributes.</p></li>
<li><p><strong>npv_min</strong> (<em>float</em>) – </p></li>
<li><p><strong>rate_max</strong> (<em>float</em>) – </p></li>
<li><p><strong>rate_min</strong> (<em>float</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="buildings.HousingStockRenovated.renovation_rate">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">renovation_rate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">npv</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rho</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">npv_min</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rate_max</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rate_min</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Renovation rate for float values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>npv</strong> (<em>float</em>) – </p></li>
<li><p><strong>rho</strong> (<em>float</em>) – </p></li>
<li><p><strong>npv_min</strong> (<em>float</em>) – </p></li>
<li><p><strong>rate_max</strong> (<em>float</em>) – </p></li>
<li><p><strong>rate_min</strong> (<em>float</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="buildings.HousingStockRenovated.to_flow_demolition_seg">
<span class="sig-name descname"><span class="pre">to_flow_demolition_seg</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>Returns stock_demolition -  segmented housing number demolition.</p>
<p>Buildings to destroy are chosen in stock_mobile.
1. type_housing_demolition is respected to match decision-maker proportion; - type_housing_demolition_reindex
2. income_class, income_class_owner, heating_energy match stock_remaining proportion; - type_housing_demolition_wo_performance
3. worst energy_performance_attributes for each segment are targeted. - stock_demolition</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p></p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>pd.Series segmented</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="buildings.HousingStockRenovated.to_flow_knowledge">
<span class="sig-name descname"><span class="pre">to_flow_knowledge</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">flow_area_renovated_seg</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Returns knowledge renovation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>flow_area_renovated_seg</strong> (<em>pd.DataFrame</em>) – Data array containing renovation are for each segment and each transition.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="buildings.HousingStockRenovated.to_flow_remained">
<span class="sig-name descname"><span class="pre">to_flow_remained</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">energy_prices</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">consumption</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'conventional'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cost_invest</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cost_intangible</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subsidies</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">renovation_obligation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mutation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rotation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Calculate flow_remained for each segment.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>energy_prices</strong> (<em>pd.DataFrame</em>) – </p></li>
<li><p><strong>cost_invest</strong> (<em>dict</em><em>, </em><em>optional</em>) – </p></li>
<li><p><strong>cost_intangible</strong> (<em>dict</em><em>, </em><em>optional</em>) – </p></li>
<li><p><strong>consumption</strong> (<em>str</em><em>, </em><em>default 'conventional'</em>) – </p></li>
<li><p><strong>subsidies</strong> (<em>list</em><em>, </em><em>optional</em>) – </p></li>
<li><p><strong>renovation_obligation</strong> (<em>RenovationObligation</em><em>, </em><em>optional</em>) – </p></li>
<li><p><strong>mutation</strong> (<em>pd.Series</em><em> or </em><em>float</em><em>, </em><em>default 0.0</em>) – </p></li>
<li><p><strong>rotation</strong> (<em>pd.Series</em><em> or </em><em>float</em><em>, </em><em>default 0.0</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>flow_remained_seg, pd.Series</em> – positive (+) flow for buildings segment reached by the renovation (final state),
negative (-) flow for buildings segment (initial state) that have been renovated.</p></li>
<li><p><em>flow_area_renovation_seg, pd.Series</em></p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="buildings.HousingStockRenovated.to_flow_renovation_ep">
<span class="sig-name descname"><span class="pre">to_flow_renovation_ep</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">energy_prices</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">consumption</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'conventional'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cost_invest</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cost_intangible</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subsidies</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">renovation_obligation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mutation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rotation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">error</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Functions only useful if a subsidy_tax is declared. Run a dichotomy to find the subsidy rate that recycle energy
tax revenue.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="buildings.HousingStockRenovated.to_flow_renovation_ep_energy">
<span class="sig-name descname"><span class="pre">to_flow_renovation_ep_energy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">energy_prices</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">consumption</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'conventional'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cost_invest</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cost_intangible</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subsidies</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">renovation_obligation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mutation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rotation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>De-aggregate stock_renovation_attributes by final heating energy.</p>
<ol class="arabic simple">
<li><p>Flow renovation returns number of renovation by final energy performance.</p></li>
</ol>
<p>2. Heating energy technology market-share is then calculated based on flow renovation.
What will be the choice of building owner to change their building if the building performance is …?</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>energy_prices</strong> (<em>pd.DataFrame</em>) – </p></li>
<li><p><strong>cost_invest</strong> (<em>dict</em><em>, </em><em>optional</em>) – </p></li>
<li><p><strong>cost_intangible</strong> (<em>dict</em><em>, </em><em>optional</em>) – </p></li>
<li><p><strong>consumption</strong> (<em>str</em><em>, </em><em>default 'conventional'</em>) – </p></li>
<li><p><strong>subsidies</strong> (<em>list</em><em>, </em><em>optional</em>) – </p></li>
<li><p><strong>renovation_obligation</strong> (<em>RenovationObligation</em><em>, </em><em>optional</em>) – </p></li>
<li><p><strong>mutation</strong> (<em>pd.Series</em><em> or </em><em>float</em><em>, </em><em>default 0.0</em>) – </p></li>
<li><p><strong>rotation</strong> (<em>pd.Series</em><em> or </em><em>float</em><em>, </em><em>default 0.0</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="buildings.HousingStockRenovated.to_renovation_rate">
<span class="sig-name descname"><span class="pre">to_renovation_rate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">energy_prices</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">transition</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">consumption</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'conventional'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cost_invest</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cost_intangible</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subsidies</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rho</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Routine calculating renovation rate from segments for a particular yr.</p>
<p>Cost (energy, investment) &amp; rho parameter are also required.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>energy_prices</strong> (<em>pd.DataFrame</em>) – </p></li>
<li><p><strong>transition</strong> (<em>list</em>) – </p></li>
<li><p><strong>cost_invest</strong> (<em>dict</em><em>, </em><em>optional</em>) – </p></li>
<li><p><strong>cost_intangible</strong> (<em>dict</em><em>, </em><em>optional</em>) – </p></li>
<li><p><strong>consumption</strong> (<em>str</em><em>, </em><em>default 'conventional'</em>) – </p></li>
<li><p><strong>subsidies</strong> (<em>list</em><em>, </em><em>optional</em>) – </p></li>
<li><p><strong>rho</strong> (<em>pd.Series</em><em>, </em><em>optional</em>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<span class="target" id="module-policies"></span><dl class="py class">
<dt class="sig sig-object py" id="policies.EnergyTaxes">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">policies.</span></span><span class="sig-name descname"><span class="pre">EnergyTaxes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unit</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">calibration</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Represents energy taxes.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="policies.EnergyTaxes.name">
<span class="sig-name descname"><span class="pre">name</span></span></dt>
<dd><p>Name of the policy.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="policies.EnergyTaxes.start">
<span class="sig-name descname"><span class="pre">start</span></span></dt>
<dd><p>Year policy starts.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="policies.EnergyTaxes.end">
<span class="sig-name descname"><span class="pre">end</span></span></dt>
<dd><p>Year policy ends.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="policies.EnergyTaxes.calibration">
<span class="sig-name descname"><span class="pre">calibration</span></span></dt>
<dd><p>Should policy be used for the calibration step?</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>bool, default: False</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="policies.EnergyTaxes.unit">
<span class="sig-name descname"><span class="pre">unit</span></span></dt>
<dd><p>Unit of measure of the value attribute.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>{‘%’, ‘euro/kWh’, ‘euro/tCO2’}</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="policies.EnergyTaxes.value">
<span class="sig-name descname"><span class="pre">value</span></span></dt>
<dd><p>Value of energy taxes.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>float, pd.Series or pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="policies.EnergyTaxes.price_to_taxes">
<span class="sig-name descname"><span class="pre">price_to_taxes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">energy_prices</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">co2_content</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Calculate energy taxes cost based on self.unit unit of measure.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>energy_prices</strong> (<em>pd.Series</em><em> or </em><em>pd.DataFrame</em><em>, </em><em>optional</em>) – Energy prices in euro/kWh. Heating energy as index, and years as columns.</p></li>
<li><p><strong>co2_content</strong> (<em>pd.Series</em><em> or </em><em>pd.DataFrame</em><em>, </em><em>optional</em>) – CO2 content in gCO2/kWh. Heating energy as index, and years as columns.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Energy tax cost in euro/kWh.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pd.Series</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="policies.PublicPolicy">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">policies.</span></span><span class="sig-name descname"><span class="pre">PublicPolicy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">policy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">calibration</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Public policy parent class.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="policies.PublicPolicy.name">
<span class="sig-name descname"><span class="pre">name</span></span></dt>
<dd><p>Name of the policy.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="policies.PublicPolicy.start">
<span class="sig-name descname"><span class="pre">start</span></span></dt>
<dd><p>Year policy starts.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="policies.PublicPolicy.end">
<span class="sig-name descname"><span class="pre">end</span></span></dt>
<dd><p>Year policy ends.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="policies.PublicPolicy.policy">
<span class="sig-name descname"><span class="pre">policy</span></span></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>{‘energy_taxes’, ‘subsidies’}</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="policies.PublicPolicy.calibration">
<span class="sig-name descname"><span class="pre">calibration</span></span></dt>
<dd><p>Should policy be used for the calibration step?</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>bool, default: False</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="policies.RegulatedLoan">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">policies.</span></span><span class="sig-name descname"><span class="pre">RegulatedLoan</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ir_regulated</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ir_market</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">principal_max</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">principal_min</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">horizon</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">targets</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">transition</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">calibration</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Loan backed by the state to buy technology capex.</p>
<p>Instead of paying interest rate at ir_market (%/yr), households only pays ir_regulated.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="policies.RegulatedLoan.name">
<span class="sig-name descname"><span class="pre">name</span></span></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="policies.RegulatedLoan.start">
<span class="sig-name descname"><span class="pre">start</span></span></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="policies.RegulatedLoan.end">
<span class="sig-name descname"><span class="pre">end</span></span></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="policies.RegulatedLoan.ir_regulated">
<span class="sig-name descname"><span class="pre">ir_regulated</span></span></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>float or pd.Series, optional</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="policies.RegulatedLoan.ir_market">
<span class="sig-name descname"><span class="pre">ir_market</span></span></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>float or pd.Series, optional</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="policies.RegulatedLoan.principal_max">
<span class="sig-name descname"><span class="pre">principal_max</span></span></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>float or pd.Series, optional</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="policies.RegulatedLoan.horizon">
<span class="sig-name descname"><span class="pre">horizon</span></span></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>int or pd.Series, optional</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="policies.RegulatedLoan.horizon_max">
<span class="sig-name descname"><span class="pre">horizon_max</span></span></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>int or pd.Series, optional</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="policies.RegulatedLoan.horizon_min">
<span class="sig-name descname"><span class="pre">horizon_min</span></span></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>int or pd.Series, optional</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="policies.RegulatedLoan.targets">
<span class="sig-name descname"><span class="pre">targets</span></span></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>pd.DataFrame, optional</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">interest_cost:</span> <span class="pre">calculate</span> <span class="pre">interest_cost</span></span></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">loan_approximate2subsidy(principal):</span> <span class="pre">calculate</span> <span class="pre">subsidies</span> <span class="pre">as</span> <span class="pre">opportunity</span> <span class="pre">cost</span> <span class="pre">for</span> <span class="pre">the</span> <span class="pre">household</span> <span class="pre">for</span> <span class="pre">a</span> <span class="pre">principal.</span></span></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">principal</span> <span class="pre">is</span> <span class="pre">a</span> <span class="pre">capex</span> <span class="pre">from</span> <span class="pre">a</span> <span class="pre">initial</span> <span class="pre">state</span> <span class="pre">to</span> <span class="pre">a</span> <span class="pre">final</span> <span class="pre">state.</span></span></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="policies.RegulatedLoan.apply_targets">
<span class="sig-name descname"><span class="pre">apply_targets</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">principal</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Returns principal for transition that are targeted by the regulated loan.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>self.targets</strong> (<em>pd.DataFrame</em>) – 1 when targeted, otherwise 0</p></li>
<li><p><strong>principal</strong> (<em>pd.DataFrame</em>) – capex of a transition from row to column</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="policies.RegulatedLoan.interest_cost">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">interest_cost</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">interest_rate</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_period</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">principal</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Returns total interest cost.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>interest_rate</strong> (<em>float</em>) – loan interest rate (%/period)</p></li>
<li><p><strong>n_period</strong> (<em>float</em>) – number of periods</p></li>
<li><p><strong>principal</strong> (<em>float</em>) – loan amount</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="policies.RegulatedLoan.to_opp_cost">
<span class="sig-name descname"><span class="pre">to_opp_cost</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ir_market</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">horizon</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">principal</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>R
eturns the opportunity cost to get the regulated loan.</p>
<p>Calls self.apply_targets to restrict transition that are targeted by the policy.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ir_market</strong> (<em>float</em><em> or </em><em>pd.Series</em>) – market interest rate that would be paid without the regulated loan</p></li>
<li><p><strong>horizon</strong> (<em>int</em><em> or </em><em>pd.Series</em>) – loan horizon</p></li>
<li><p><strong>principal</strong> (<em>float</em><em> or </em><em>pd.Series</em><em> or </em><em>pd.DataFrame</em>) – capex of a transition from row to column</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float, pd.Series, pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="policies.RegulatedLoan.to_opportunity_cost">
<span class="sig-name descname"><span class="pre">to_opportunity_cost</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">principal</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Every parameter must be the same shape.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="policies.Subsidies">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">policies.</span></span><span class="sig-name descname"><span class="pre">Subsidies</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unit</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">transition</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cost_max</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cost_min</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subsidy_max</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">calibration</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_dependent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">targets</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">area</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">priority</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Represents subsidies.</p>
<p>Subsidies values are in euro/m2. Subsidy_max, cost_max or cost_min are transformed in euro/m2.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="policies.Subsidies.name">
<span class="sig-name descname"><span class="pre">name</span></span></dt>
<dd><p>Name of the policy.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="policies.Subsidies.start">
<span class="sig-name descname"><span class="pre">start</span></span></dt>
<dd><p>Year policy starts.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="policies.Subsidies.end">
<span class="sig-name descname"><span class="pre">end</span></span></dt>
<dd><p>Year policy ends.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="policies.Subsidies.calibration">
<span class="sig-name descname"><span class="pre">calibration</span></span></dt>
<dd><p>Should policy be used for the calibration step?</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>bool, default: False</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="policies.Subsidies.unit">
<span class="sig-name descname"><span class="pre">unit</span></span></dt>
<dd><p>Unit of measure of the value attribute.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>{‘%’, ‘euro/kWh’, ‘euro/tCO2’}</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="policies.Subsidies.value">
<span class="sig-name descname"><span class="pre">value</span></span></dt>
<dd><p>Value of subsidies.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>float, pd.Series or pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="policies.Subsidies.transition">
<span class="sig-name descname"><span class="pre">transition</span></span></dt>
<dd><p>Transition to apply the subsidy.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>list, default: [‘Energy performance’]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="policies.Subsidies.cost_max">
<span class="sig-name descname"><span class="pre">cost_max</span></span></dt>
<dd><p>Maximum capex cost to receive a subsidy.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>float, optional</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="policies.Subsidies.subsidy_max">
<span class="sig-name descname"><span class="pre">subsidy_max</span></span></dt>
<dd><p>Maximum subsidy.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>float, optional</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="policies.Subsidies.to_subsidy">
<span class="sig-name descname"><span class="pre">to_subsidy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cost</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">energy_saving</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Calculate subsidy value based on subsidies parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>year</strong> (<em>int</em>) – </p></li>
<li><p><strong>cost</strong> (<em>pd.Series</em><em>, </em><em>pd.DataFrame</em><em>, </em><em>optional</em>) – Necessary if self.unit == ‘%’</p></li>
<li><p><strong>energy_saving</strong> (<em>pd.Series</em><em>, </em><em>pd.DataFrame</em><em>, </em><em>optional</em>) – Necessary if self.unit == ‘euro/kWh’</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="policies.Subsidies.to_unit">
<span class="sig-name descname"><span class="pre">to_unit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Transform euro to euro/m2.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>value</strong> (<em>int</em><em>, </em><em>float</em><em>, </em><em>pd.Series</em>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pd.Series, pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="policies.SubsidiesRecyclingTax">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">policies.</span></span><span class="sig-name descname"><span class="pre">SubsidiesRecyclingTax</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tax_unit</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tax_value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subsidy_unit</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subsidy_value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">calibration</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">transition</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span></dt>
<dd></dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="policies.ThermalRegulation">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">policies.</span></span><span class="sig-name descname"><span class="pre">ThermalRegulation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">transition</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>ThermalRegulationConstruction represents public policies that require a minimal performance target to build or
retrofit a building.</p>
<p>For example, by 2030 all constructions should be Zero Net Building, and by 2040 Positive Energy Building.</p>
<dl class="py method">
<dt class="sig sig-object py" id="policies.ThermalRegulation.apply_regulation">
<span class="sig-name descname"><span class="pre">apply_regulation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">attributes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Remove target of possible attributes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>attributes</strong> (<em>dict</em>) – Key are attribute name (Energy performance) and items are list of possible value taken by attributes.</p></li>
<li><p><strong>year</strong> (<em>int</em>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="policies.ThermalRegulation.parse_targets">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">parse_targets</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Returns pd.Series containing a list of element to remove each year because of the regulation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>target</strong> (<em>pd.Series</em>) – </p></li>
<li><p><strong>end</strong> (<em>int</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pd.Series</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<span class="target" id="module-utils"></span><dl class="py function">
<dt class="sig sig-object py" id="utils.add_level">
<span class="sig-prename descclassname"><span class="pre">utils.</span></span><span class="sig-name descname"><span class="pre">add_level</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Add index as a new level for ds.index or ds.columns.</p>
<p>Values of data does not depend on the new level (i.e. only defined by other levels).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>pd.Series</em><em> or </em><em>pd.DataFrame</em>) – </p></li>
<li><p><strong>index</strong> (<em>pd.Index</em><em> or </em><em>list-like</em>) – </p></li>
<li><p><strong>axis</strong> (<em>{0</em><em>, </em><em>1}</em><em>, </em><em>default 0</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pd.Series</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utils.add_level_nan">
<span class="sig-prename descclassname"><span class="pre">utils.</span></span><span class="sig-name descname"><span class="pre">add_level_nan</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ds</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">level</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Add level to ds with ‘nan’ as value index.</p>
<p>Value of pd.Series doesn’t change.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ds</strong> (<em>pd.DataFrame</em><em>, </em><em>pd.Series</em>) – </p></li>
<li><p><strong>level</strong> (<em>str</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pd.Series</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utils.apply_linear_rate">
<span class="sig-prename descclassname"><span class="pre">utils.</span></span><span class="sig-name descname"><span class="pre">apply_linear_rate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rate</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Apply a linear rate for a value based on years index.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>value</strong> (<em>float</em><em> or </em><em>int</em>) – </p></li>
<li><p><strong>rate</strong> (<em>float</em>) – </p></li>
<li><p><strong>index</strong> (<em>list of int</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pd.Series</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utils.de_aggregate_columns">
<span class="sig-prename descclassname"><span class="pre">utils.</span></span><span class="sig-name descname"><span class="pre">de_aggregate_columns</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df2</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Cumulate 2 share df based on the same level to get a de-aggregate DataFrame.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utils.de_aggregate_series">
<span class="sig-prename descclassname"><span class="pre">utils.</span></span><span class="sig-name descname"><span class="pre">de_aggregate_series</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ds_val</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df_share</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>TOKEEP:Add new levels to ds_val using df_share.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ds_val</strong> – index: segments</p></li>
<li><p><strong>df_share</strong> (<em>pd.DataFrame</em>) – index: segments, columns: new level,
ds_share and ds_val segment must share at least on level.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>MultiIndex series with</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pd.Series</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utils.de_aggregating_series">
<span class="sig-prename descclassname"><span class="pre">utils.</span></span><span class="sig-name descname"><span class="pre">de_aggregating_series</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ds_val</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">level_share_tot</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">level</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>De-aggregate ds based on ds_prop by adding level.</p>
<p>ds_prop can be independent of ds, or some levels can match.</p>
<p>Example:</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utils.get_levels_values">
<span class="sig-prename descclassname"><span class="pre">utils.</span></span><span class="sig-name descname"><span class="pre">get_levels_values</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">miindex</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">levels</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Returns MultiIndex for levels passed based on miiindex.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>miindex</strong> (<em>pd.MultiIndex</em>) – </p></li>
<li><p><strong>levels</strong> (<em>list</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pd.MultiIndex</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utils.miiindex_loc">
<span class="sig-prename descclassname"><span class="pre">utils.</span></span><span class="sig-name descname"><span class="pre">miiindex_loc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ds</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">slicing_midx</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Select multiindex slices based on slice_midx when all levels are not passed.</p>
<p>slicing_midx must have at least on common level name with ds MultiIndex.
.. rubric:: Example</p>
<p>miiindex_loc(ds, slicing_midx)</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utils.multi_index2tuple">
<span class="sig-prename descclassname"><span class="pre">utils.</span></span><span class="sig-name descname"><span class="pre">multi_index2tuple</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ds</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list_levels</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Aggregate levels of a MultiIndex into a tuple based on specified levels.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ds</strong> (<em>pd.Series</em>) – </p></li>
<li><p><strong>list_levels</strong> (<em>list</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pd.Series</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utils.reindex_mi">
<span class="sig-prename descclassname"><span class="pre">utils.</span></span><span class="sig-name descname"><span class="pre">reindex_mi</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">miindex</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">levels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Return re-indexed DataFrame based on miindex using only few labels.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pd.DataFrame</em><em>, </em><em>pd.Series</em>) – data to reindex</p></li>
<li><p><strong>miindex</strong> (<em>pd.MultiIndex</em><em>, </em><em>pd.Index</em>) – master to index to reindex df</p></li>
<li><p><strong>levels</strong> (<em>list</em><em>, </em><em>default df.index.names</em>) – list of levels to use to reindex df</p></li>
<li><p><strong>axis</strong> (<em>{0</em><em>, </em><em>1}</em><em>, </em><em>default 0</em>) – axis to reindex df</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pd.DataFrame, pd.Series</p>
</dd>
</dl>
<p class="rubric">Example</p>
<p>reindex_mi(surface_ds, segments, [‘Occupancy status’, ‘Housing type’]))
reindex_mi(cost_invest_ds, segments, [‘Heating energy final’, ‘Heating energy’]))</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utils.remove_rows">
<span class="sig-prename descclassname"><span class="pre">utils.</span></span><span class="sig-name descname"><span class="pre">remove_rows</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ds</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">level</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value_to_drop</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Remove rows based on value a level of pandas MultiIndex.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ds</strong> (<em>pd.Series</em><em> or </em><em>pd.DataFrame</em>) – </p></li>
<li><p><strong>level</strong> (<em>str</em>) – name of MultiIndex levels</p></li>
<li><p><strong>value_to_drop</strong> – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pd.Series</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utils.replace">
<span class="sig-prename descclassname"><span class="pre">utils.</span></span><span class="sig-name descname"><span class="pre">replace</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">replace_dict</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Replace string in pandas Series (multiindexes included) with regex.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>pd.Series</em><em> or </em><em>pd.DataFrame</em>) – </p></li>
<li><p><strong>replace_dict</strong> (<em>dict</em>) – example: replace_dict = {‘old_val0’: ‘new_val0’, ‘old_val0’: ‘new_val0’}</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pd.Series</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utils.val2share">
<span class="sig-prename descclassname"><span class="pre">utils.</span></span><span class="sig-name descname"><span class="pre">val2share</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">ds</span></em>, <em class="sig-param"><span class="pre">levels</span></em>, <em class="sig-param"><span class="pre">func=&lt;function</span> <span class="pre">&lt;lambda&gt;&gt;</span></em>, <em class="sig-param"><span class="pre">option='row'</span></em><span class="sig-paren">)</span></dt>
<dd><p>Returns the share of value based on levels.</p>
<p>Get the proportion for every other levels than levels in ds.index.names.
If option = ‘column’, return pd DataFrame with levels in index. Sum of each row is equal to 1.</p>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="changelog.html" class="btn btn-neutral float-right" title="Modification from Res-IRF 3.0" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="policies_assessment.html" class="btn btn-neutral float-left" title="Policies assessment" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Lucas Vivier.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>