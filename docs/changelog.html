

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Modification from Res-IRF 3.0 &mdash; Res-IRF 0.0 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
        <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Installation help" href="help_installation.html" />
    <link rel="prev" title="Module" href="modules.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> Res-IRF
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="README.html">Res-IRF</a></li>
<li class="toctree-l1"><a class="reference internal" href="LICENSE.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="input_2012.html">Input Res-IRF version 3.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="technical_documentation.html">Technical documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="simulation_2012.html">Simulation and sensitivity analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="policies_parameters.html">Setting up public policies</a></li>
<li class="toctree-l1"><a class="reference internal" href="policies_assessment.html">Policies assessment</a></li>
<li class="toctree-l1"><a class="reference internal" href="modules.html">Module</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Modification from Res-IRF 3.0</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#renovation-rate-function">Renovation rate function</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#correction-of-renovation-rate-objective-formula">Correction of renovation rate objective formula</a></li>
<li class="toctree-l3"><a class="reference internal" href="#calibration-segmentation">Calibration segmentation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#agents-with-the-same-observed-renovation-rate-should-get-the-same-renovation-rate-function">Agents with the same observed renovation rate should get the same renovation rate function</a></li>
<li class="toctree-l4"><a class="reference internal" href="#all-agents-should-get-the-same-renovation-rate-function">All agents should get the same renovation rate function</a></li>
<li class="toctree-l4"><a class="reference internal" href="#conclusion">Conclusion</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="help_installation.html">Installation help</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="future_development.html">Future developments</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Res-IRF</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Modification from Res-IRF 3.0</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/changelog.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="tex2jax_ignore mathjax_ignore section" id="modification-from-res-irf-3-0">
<h1>Modification from Res-IRF 3.0</h1>
<p>Modifications are listed in the table and the major changes are developed if necessary in a separate section.</p>
<table class="docutils align-default" id="code-modificaiton">
<caption><span class="caption-number">Table 40 </span><span class="caption-text">Code modification</span></caption>
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Type of mistake</p></th>
<th class="head"><p>Comments</p></th>
<th class="head"><p>Status</p></th>
<th class="head"><p>Date</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Bug</p></td>
<td><p>Calibration of the market shares for construction was not considered in the code.</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>Report</p></td>
<td><p>Renovation rates shown in the report do not match the data used in the code</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>Bug</p></td>
<td><p>Renovation rates formula to calculate renovation rate objective was false.</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>Report</p></td>
<td><p>The discount rate displayed in the report does not correspond to the data used in Scilab (C4 collective housing = 5% and not 7% in the report).</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>Report</p></td>
<td><p>The calibration coefficients of the aggregated energy consumption (to match the CEREN data) displayed in the report do not correspond to the data used in Scilab.</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>Bug</p></td>
<td><p>ZIL doesnt’ target C building during the calibration year.</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>Bug</p></td>
<td><p>WHO tax have double count of the tax: once at initialization, again at the renovation stage</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<div class="section" id="renovation-rate-function">
<h2>Renovation rate function</h2>
<p>The renovation rate <span class="math notranslate nohighlight">\(τ_i\)</span> of dwellings labelled i is then calculated as a logistic function of the NPV:</p>
<div class="math notranslate nohighlight">
\[τ_i=\frac{τ_{max}}{(1+(τ_{max}/τ_{min} -1) e^{-ρ(NPV_i- NPV_{min})})}\]</div>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(τ_{max}\)</span> and NPV_{min} are constant based on own assumption,</p></li>
<li><p><span class="math notranslate nohighlight">\(NPV_i\)</span> is a result from Res-IRF,</p></li>
<li><p><span class="math notranslate nohighlight">\(ρ\)</span> is calibrated to replicate the observed renovation rates.</p></li>
</ul>
<p>Previous work <span id="id1">[<a class="reference internal" href="technical_documentation.html#id24" title="Frédéric Branger, Louis-Gaëtan Giraudet, Céline Guivarch, and Philippe Quirion. Global sensitivity analysis of an energy–economy model of the residential building sector. Environmental Modelling &amp; Software, 70:45–54, August 2015. URL: https://www.sciencedirect.com/science/article/pii/S1364815215001097 (visited on 2021-02-22), doi:10.1016/j.envsoft.2015.03.021.">Branger, Giraudet, Guivarch, and Quirion, 2015</a>]</span> showed that the model was very sensitive to this parameter.</p>
<p>Res-IRF 3.0, based on the Phébus building stock, replicated the renovation rates observed in the French housing stock
according to the Energy Performance Certificate (EPC) and the Decision Maker (DM).</p>
<p>Renovation rates by pair (ECD, decision maker) were determined using the following data:</p>
<ul class="simple">
<li><p>3% of all dwellings in the stock are renovated in the original year (source ADEME);</p></li>
<li><p>Share of renovations performed for each EPC <a class="reference internal" href="#renovation-share"><span class="std std-numref">Table 41</span></a>: <span class="math notranslate nohighlight">\(P(q | R)\)</span></p></li>
<li><p>Renovation rate by decision maker<a class="footnote-reference brackets" href="#maker" id="id2">1</a> <a class="reference internal" href="#renovation-rate"><span class="std std-numref">Table 42</span></a> : <span class="math notranslate nohighlight">\(P(R | d)\)</span></p></li>
</ul>
<table class="docutils align-default" id="renovation-share">
<caption><span class="caption-number">Table 41 </span><span class="caption-text">Renovation share by energy performance certificate. Source: PUCA (2015)</span></caption>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head stub"><p>Initial label</p></th>
<th class="head"><p>Contribution to the aggregate renovation rate</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><th class="stub"><p>G</p></th>
<td><p>36%</p></td>
</tr>
<tr class="row-odd"><th class="stub"><p>F</p></th>
<td><p>30%</p></td>
</tr>
<tr class="row-even"><th class="stub"><p>E</p></th>
<td><p>15%</p></td>
</tr>
<tr class="row-odd"><th class="stub"><p>D</p></th>
<td><p>10%</p></td>
</tr>
<tr class="row-even"><th class="stub"><p>C</p></th>
<td><p>8%</p></td>
</tr>
<tr class="row-odd"><th class="stub"><p>B</p></th>
<td><p>1%</p></td>
</tr>
</tbody>
</table>
<table class="docutils align-default" id="renovation-rate">
<caption><span class="caption-number">Table 42 </span><span class="caption-text">Renovation rate by decision make. Source : OPEN (2016) and USH (2017)</span></caption>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head stub"><p>Type of decision-maker</p></th>
<th class="head"><p>Type of dwelling</p></th>
<th class="head"><p>Renovation rate</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><th class="stub"><p>Owner-occupied</p></th>
<td><p>Single-family</p></td>
<td><p>4.70%</p></td>
</tr>
<tr class="row-odd"><th class="stub"></th>
<td><p>Multi-family</p></td>
<td><p>3.60%</p></td>
</tr>
<tr class="row-even"><th class="stub"><p>Privately rented</p></th>
<td><p>Single-family</p></td>
<td><p>2.00%</p></td>
</tr>
<tr class="row-odd"><th class="stub"></th>
<td><p>Multi-family</p></td>
<td><p>1.80%</p></td>
</tr>
<tr class="row-even"><th class="stub"><p>Social housing</p></th>
<td><p>Single-family</p></td>
<td><p>1.50%</p></td>
</tr>
<tr class="row-odd"><th class="stub"></th>
<td><p>Multi-family</p></td>
<td><p>2.00%</p></td>
</tr>
</tbody>
</table>
<div class="section" id="correction-of-renovation-rate-objective-formula">
<h3>Correction of renovation rate objective formula</h3>
<p>The usual conditional probability formulas allow us to calculate rate_obj (renovation rate as a function of decision
maker and EPC) as follows:</p>
<div class="math notranslate nohighlight">
\[\text{rate_obj} = P(R | d \cap q) = \frac{P(R \cap d \cap q)}{P(d \cap q)} = \frac{P(R) P(d \cap q | R)}{P(d \cap q)}\]</div>
<p>Assuming independence between:</p>
<div class="math notranslate nohighlight">
\[P(d \cap q | R) = P(q|R) P(d | q \cap R) = P(q | R) P(d|R)\]</div>
<div class="math notranslate nohighlight">
\[\text{rate_obj} = P(R | d \cap q) = \frac{P(d) P(q) P(R|d) P(R|q)}{P(R) P(d \cap q)}\]</div>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(P(R)\)</span> : aggregate renovation rate of the stock of 3%.</p></li>
<li><p><span class="math notranslate nohighlight">\(P(R|d)\)</span> in <a class="reference internal" href="#renovation-rate"><span class="std std-numref">Table 42</span></a></p></li>
<li><p><span class="math notranslate nohighlight">\(P(R|q) = P(R \cap q) / P(q) = P(R) * P(q|R) / P(q)\)</span> and with <span class="math notranslate nohighlight">\(P(q|R)\)</span> in <a class="reference internal" href="#renovation-share"><span class="std std-numref">Table 41</span></a></p></li>
<li><p><span class="math notranslate nohighlight">\(P(q)\)</span>, <span class="math notranslate nohighlight">\(P(d)\)</span>, <span class="math notranslate nohighlight">\(P(d \cap q)\)</span> calculated by the building stock structure.</p></li>
</ul>
<p>Previously Res-IRF 3.0 calculated :</p>
<div class="math notranslate nohighlight">
\[\text{rate_obj} = \frac{P(R|d) P(R|q)}{P(R)}\]</div>
<p><strong>We replace this formula by the formula defined above.</strong> We assess the marginal impact of this modification on Res-IRF
3.0. We observe a change in absolute value but not in trend.</p>
<div class="figure align-default" id="renovation-rate-formula-flow-renovation">
<img alt="_images/flow_renovation.png" src="_images/flow_renovation.png" />
<p class="caption"><span class="caption-number">Fig. 23 </span><span class="caption-text">Impact renovation rate formula on flow_renovation</span></p>
</div>
<div class="figure align-default" id="renovation-rate-formula-renovation-rate-decision-maker">
<img alt="_images/renovation_rate_decision_maker.png" src="_images/renovation_rate_decision_maker.png" />
<p class="caption"><span class="caption-number">Fig. 24 </span><span class="caption-text">Impact renovation rate formula on decision-maker renovation rate</span></p>
</div>
<div class="figure align-default" id="renovation-rate-formula-renovation-rate-performance">
<img alt="_images/renovation_rate_performance.png" src="_images/renovation_rate_performance.png" />
<p class="caption"><span class="caption-number">Fig. 25 </span><span class="caption-text">Impact renovation rate formula on EPC renovation rate</span></p>
</div>
<div class="figure align-default" id="renovation-rate-formula-consumption-actual">
<img alt="_images/consumption_actual.png" src="_images/consumption_actual.png" />
<p class="caption"><span class="caption-number">Fig. 26 </span><span class="caption-text">Impact renovation rate formula on consumption actual</span></p>
</div>
</div>
<div class="section" id="calibration-segmentation">
<h3>Calibration segmentation</h3>
<p>Parameter ρ is calibrated, for each type of decision-maker and each initial label, so that the NPVs calculated with the
subsidies in effect in 2012 (version 3.0) reproduce the observed renovation rates. In general, we don’t have enough
disaggregated data.
<strong>How can we calibrate an individual decision function per agent with only aggregated data?</strong></p>
<p>A simple solution would be to say that each agent must replicate the observed renovation rates of his group. In this
case, we have as many decision functions as there are agents. This solution is not satisfactory because it erases all
the specificities of the agents (discount rate, investment horizon, etc…) and is equivalent to creating a model with a
representative agent. Also, a robust decision function must be unique for all agents.</p>
<div class="figure align-default" id="function-agents">
<img alt="_images/function_agents.png" src="_images/function_agents.png" />
<p class="caption"><span class="caption-number">Fig. 27 </span><span class="caption-text">Individual decision functions by agents.</span></p>
</div>
<div class="section" id="agents-with-the-same-observed-renovation-rate-should-get-the-same-renovation-rate-function">
<h4>Agents with the same observed renovation rate should get the same renovation rate function</h4>
<p>Let say two agents got 2 NPV of 100 €/m2 (Agent 1) and 200 €/m2 (Agent 2) and their observed renovation rate is 3%. This
occurs when, due to lack of data, we assign two different agents the same renovation rate because they share common
attributes.</p>
<ul class="simple">
<li><p>For example, Agent 1 and Agent 2 are both Homeowners in a Single-family dwelling, but one is living
in high-efficient dwelling when the other is living in a low-efficient dwelling. Agent 1 should get lower incentive to
invest than Agent 2.</p></li>
<li><p>Another example, will be between 2 agents of 2 different owner income class. Agent 1 owner could be
D1 with expensive investment loan when Agent 2 could become to D10.</p></li>
</ul>
<div class="figure align-default" id="agents-same-rate">
<img alt="_images/agents_same_rate.png" src="_images/agents_same_rate.png" />
<p class="caption"><span class="caption-number">Fig. 28 </span><span class="caption-text">Individual decision functions by agents of the same group.</span></p>
</div>
<p>These situations push us to create one renovation rate function for all agents sharing the same observed renovation rate,
this means the same attributes. The objective is to determine the parameters in such a way that the average weighted by
the number of agents reproduces the observed renovation rate.</p>
<p>The ideal solution would be to determine the function parameter by solving the following equation:</p>
<div class="math notranslate nohighlight">
\[\sum_{k=1}^n w(k) f(ρ, NPV_k) = \text{rate_obj}\]</div>
<p>However, this solution is not analytically solvable.</p>
<p>We are thinking of two other ways to calibrate the renovation function for all agents sharing the same attributes:</p>
<ul class="simple">
<li><p>Calculate function parameter for each individual agent and then calculate an average parameter.</p></li>
<li><p>Calculate function parameter for a fictive individual agent that got an average utility function.</p></li>
</ul>
<div class="figure align-default" id="agents-comparison-rate">
<img alt="_images/agents_comparison_rate.png" src="_images/agents_comparison_rate.png" />
<p class="caption"><span class="caption-number">Fig. 29 </span><span class="caption-text">Comparison of decision functions with the same renovation rate objective.</span></p>
</div>
<ul class="simple">
<li><p>There isn’t critical differences between the two methods.</p></li>
<li><p>There is no indication that the weighted average of the parameters allows us to recover the average value of the
observed renovation rate. This is an approximation.</p></li>
<li><p>Although without any theoretical support, we think it is simpler to imagine the average observed renovation rate
representing the decision of a representative agent.</p></li>
</ul>
<p>We will therefore calibrate the decision function by the utility of a representative agent.</p>
</div>
<div class="section" id="all-agents-should-get-the-same-renovation-rate-function">
<h4>All agents should get the same renovation rate function</h4>
<p>Should agents with different observed renovation rate get different renovation rate function?</p>
<div class="figure align-default" id="agents-different-rate">
<img alt="_images/agents_different_rate.png" src="_images/agents_different_rate.png" />
<p class="caption"><span class="caption-number">Fig. 30 </span><span class="caption-text">Should agents with different observed renovation rate get different renovation rate function?</span></p>
</div>
<p>We believe that it is more robust to determine a single decision function for all agents. We thus define the decision
function as the best logistic function passing through the pairs (Utility, Investment rate) or (NPV, Renovation rate)
for our specific case.</p>
<p>Let say two agents with the following attributes:
Agent 1: NPV of 100 €/m2, and observed renovation rate of 2%
Agent 2: NPV of 200 €/m2, and observed renovation rate of 3%.</p>
<div class="figure align-default" id="renovation-fitting-function">
<img alt="_images/renovation_fitting_function.png" src="_images/renovation_fitting_function.png" />
<p class="caption"><span class="caption-number">Fig. 31 </span><span class="caption-text">Fitting renovation rate objective data to utility data calculated.</span></p>
</div>
</div>
<div class="section" id="conclusion">
<h4>Conclusion</h4>
<p>We try to replicate the observed investment decision from a utility function per agent calculated by a model. However,
we do not have sufficiently disaggregated data to perform this calibration directly.</p>
<p><strong>How can we calibrate an individual decision function per agent with only aggregated data?</strong></p>
<ol class="simple">
<li><p>Define a representative agent by segmentation of the observed data,</p></li>
<li><p>Calculate the utility function for the representative agent,</p></li>
<li><p>Fitting observed renovation rate data to the utility calculated.</p></li>
</ol>
<p>Even without disaggregated data, each agent will have a different decision when calibrating. The average of the agents
per group of the same attributes will reflect the observed decision rates.</p>
<hr class="footnotes docutils" />
<dl class="footnote brackets">
<dt class="label" id="maker"><span class="brackets"><a class="fn-backref" href="#id2">1</a></span></dt>
<dd><p>Parameters imported in the Scilab version of Res-IRF were different from those indicated in some articles. We
present here the correct values.</p>
</dd>
</dl>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="help_installation.html" class="btn btn-neutral float-right" title="Installation help" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="modules.html" class="btn btn-neutral float-left" title="Module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Lucas Vivier.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>